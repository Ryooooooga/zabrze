# simple
[[snippets]]
name = "git"
trigger = "g"
snippet = "git"

# global
[[snippets]]
name = ">null"
trigger = ">null"
snippet = ">/dev/null 2>&1"
global = true

# evaluate
[[snippets]]
name = "view"
trigger = "view"
snippet = "${EDITOR} -R"
evaluate = true

# global+evaluate
[[snippets]]
name = "42"
trigger = "ANSWER"
snippet = "answer is $(echo $((6*7)))"
evaluate = true
global = true

# global+context
[[snippets]]
trigger = "aa"
snippet = "add -vA"
global = true
context = '^git\s'

[[snippets]]
trigger = "-f"
snippet = "--force-with-lease"
global = true
context = '^git(\s+\S+)*\s+push\s'

# global+placeholder
[[snippets]]
trigger = "cm"
snippet = "commit -m '{}'"
global = true
context = '^git\s'

# replace-all
[[snippets]]
trigger = "install"
snippet = "sudo apt install -y"
action = "replace-all"
global = true
context = '^apt\s'

[[snippets]]
trigger = "["
snippet = "[ {} ]"
action = "replace-all"

[[snippets]]
trigger = "[["
snippet = "[[ ðŸ‘‡ ]]"
cursor = "ðŸ‘‡"
action = "replace-all"

[[snippets]]
trigger = "xargsi"
snippet = "xargs -I{} "
cursor = ""

# $trigger
[[snippets]]
trigger-pattern = '^\.\.(/\.\.)*/?$'
snippet = "cd $trigger"
evaluate = true

[[snippets]]
trigger = "placeholder"
snippet = "ab{}cd placeholder"

# suffix aliases
[[snippets]]
trigger-pattern = '\.ts$'
snippet = "deno run $trigger"
evaluate = true

# conditional
[[snippets]]
trigger = "cond"
snippet = "conditional snippet"
if = "[[ $ZABRZE_TEST = 1 ]]"

[[snippets]]
trigger = "cond2"
snippet = "conditional snippet"
if = "[[ $ZABRZE_TEST = 0 ]]"

[[snippets]]
trigger = "cond3"
snippet = "conditional snippet"
if = "[[ $ZABRZE_TEST = 0 ]]"

[[snippets]]
trigger = "cond3"
snippet = "conditional fallback"

# capture
[[snippets]]
name = ".N"
trigger-pattern = '^\.(?<n>\d+)$'
snippet = "awk '{ print \\$$n }'"
evaluate = true

# abort-on-error
[[snippets]]
name = "eval_success_abort"
trigger = "esuccess"
snippet = "$(echo SUCCESS)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_abort"
trigger = "efail"
snippet = "$(echo FAIL; false)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_abort_only_last"
trigger = "efailsuccess"
snippet = "$(echo FAIL; false)$(echo SUCCESS)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_abort_unknown"
trigger = "eunknown"
snippet = "$(echo UNKNOWN; unknown_command)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_no_abort"
trigger = "efailnoabort"
snippet = "$(echo FAIL; false)"
evaluate = true
abort-on-error = false

[[snippets]]
name = "eval_success_abort_placeholder_success_success"
trigger = "eplaceholder"
snippet = "$(echo SUCCESS){}$(echo SUCCESS)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_abort_placeholder_fail_success"
trigger = "eplaceholder_left"
snippet = "$(echo FAIL; false){}$(echo SUCCESS)"
evaluate = true
abort-on-error = true

[[snippets]]
name = "eval_fail_abort_placeholder_success_fail"
trigger = "eplaceholder_right"
snippet = "$(echo SUCCESS){}$(echo FAIL; false)"
evaluate = true
abort-on-error = true
